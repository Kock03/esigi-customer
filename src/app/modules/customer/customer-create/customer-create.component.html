<div id="customerCreate" class="page">
  <h2 class="title">Cadastro de Cliente</h2>

  <div fxLayout="row" class="tab" fxLayoutGap="16px">
    <div
      fxLayout="column"
      class="tab-group"
      [ngClass]="{ done: step > 0, active: step == 1 }"
    >
      <p class="tab-item">1. Cadastro</p>
      <span class="tab-border"></span>
    </div>
    <div
      fxLayout="column"
      class="tab-group"
      [ngClass]="{ done: step > 1, active: step == 2 }"
    >
      <p class="tab-item">2. Contatos</p>
      <span class="tab-border"></span>
    </div>
    <div fxLayout="column" class="tab-group disabled">
      <p class="tab-item disabled">3. Contratos</p>
      <span class="tab-border"></span>
    </div>
  </div>

  <app-customer-register-tab
    [hidden]="step != 1"
    [form]="customerForm"
    (onChange)="handleChanges($event)"
  ></app-customer-register-tab>
  <app-customer-contact-tab
    [hidden]="step != 2"
    [form]="customerForm"
    (onChange)="handleChanges($event)"
  ></app-customer-contact-tab>
  <app-customer-contract-tab [hidden]="step != 3"></app-customer-contract-tab>

  <div class="navigation-buttons" fxLayoutAlign="center end" fxLayoutGap="16px">
    <button mat-button *ngIf="step != 1" (click)="navigate('back')">
      Voltar
    </button>
    <button
      mat-flat-button
      *ngIf="step != 2"
      (click)="navigate('next')"
      color="primary"
    >
      Continuar
    </button>
    <button
      mat-flat-button
      *ngIf="step == 2"
      (click)="saveCustomer()"
      color="primary"
    >
      Salvar
    </button>
  </div>
</div>
